import{b as y,u as C,r as t,j as e}from"./index-a8c27e68.js";const z=()=>{const{callId:x}=y(),o=C(),[n,d]=t.useState("ringing"),[u,h]=t.useState(0),[i,f]=t.useState(!1),[r,b]=t.useState(!0),[l,p]=t.useState(!0),s={id:x,caller:{id:"user123",name:"Jane Doe",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuD3aZTG-Uzdss7DBpYsZkh-sEZFWn7ygC4m2KWll2jNF7sk-3TIERHXJnQRdybqvfYFlpsmhapXPOYmKDPrDikuEIQdLM6_04g_zNaR7bGmqcoAll5GUJC6KGDVUnBruhOUBgp0CHFs0V874Jw9p2409d2lndBXE8NJ0j5JVHFT0s1K2s-9EV90Qo2lvuuv50B9cq0-YmLmioRqGEBt7xrMsnDC5N7XDugw2Yl3JUMWD3vmprDW_H2Bk_CSkTsFtC_3viEwCq97nOIF",videoFeed:"https://lh3.googleusercontent.com/aida-public/AB6AXuArT6WicbNpwy4qMngtu2P8Lz3pFHFXEIC78A_4LzFUepBtcivtB9A_ZZpf8aW20jXLDfs5kkZvdmu2Gzl7HzL_i2deeQmXvZT4abwNODiQ0Qblounzmsr_zwMHB36iglRwn9sr-xUcIBj4WSz6kbdKhjiTu8nagMZ0SnIhfqp_L0r6esrcAsSRRBUj2LTpEjvbDY3YSlP8B6CIzZtq6soVhzXbSsJZvj7CAEcYw-e5djeGXT6rtHgsFjonXX7WsiAAwqtKyHU5d52V"},type:"video",isIncoming:!0};t.useEffect(()=>{let a;return n==="in-progress"&&(a=setInterval(()=>{h(c=>c+1)},1e3)),()=>clearInterval(a)},[n]);const g=a=>{const c=Math.floor(a/60),k=a%60;return`${c.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`},j=()=>{d("in-progress")},m=()=>{d("ended"),setTimeout(()=>{o(-1)},1e3)},v=()=>{f(!i)},N=()=>{b(!r)},w=()=>{p(!l)};return n==="ringing"&&s.isIncoming?e.jsxs("div",{className:"flex flex-col h-full min-h-screen p-4 pb-8 bg-background-light dark:bg-background-dark",children:[e.jsx("div",{className:"flex items-center justify-center pt-2 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"lock"}),e.jsx("p",{className:"text-sm font-normal",children:"End-to-End Encrypted"})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center",children:[e.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[e.jsx("div",{className:"absolute w-48 h-48 rounded-full bg-primary/20 animate-pulse-slow-1"}),e.jsx("div",{className:"absolute w-48 h-48 rounded-full bg-primary/20 animate-pulse-slow-2"}),e.jsx("div",{className:"absolute w-48 h-48 rounded-full bg-primary/20 animate-pulse-slow-3"}),e.jsx("div",{className:"w-48 h-48 bg-center bg-no-repeat bg-cover rounded-full border-4 border-white/10",style:{backgroundImage:`url(${s.caller.avatar})`},"aria-label":`Profile picture of ${s.caller.name}`})]}),e.jsx("h1",{className:"text-white tracking-light text-[32px] font-bold leading-tight px-4 text-center",children:s.caller.name}),e.jsxs("h2",{className:"text-white/80 text-xl font-normal leading-normal pt-1 px-4 text-center",children:["Video"," Call..."]})]}),e.jsxs("div",{className:"flex w-full gap-6 px-4 py-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("button",{onClick:m,className:"flex size-16 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-[#dc3545] text-white",children:e.jsx("span",{className:"material-symbols-outlined !text-3xl",children:"call_end"})}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Decline"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("button",{onClick:j,className:"flex size-16 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-[#28a745] text-white",children:e.jsx("span",{className:"material-symbols-outlined !text-3xl",children:"call"})}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Answer"})]})]})]}):e.jsxs("div",{className:"relative flex flex-col h-full min-h-screen w-full bg-background-light dark:bg-background-dark overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${s.caller.videoFeed})`,opacity:l?1:.5},children:e.jsx("div",{className:"absolute inset-0 bg-black/30"})}),e.jsxs("div",{className:"relative z-10 flex items-center p-4",children:[e.jsx("button",{onClick:()=>o(-1),className:"flex size-8 shrink-0 items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-white !text-2xl",children:"expand_more"})}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("h2",{className:"text-white text-lg font-bold leading-tight",children:s.caller.name}),e.jsx("p",{className:"text-white/80 text-sm font-normal leading-normal",children:g(u)})]}),e.jsx("div",{className:"flex size-8 shrink-0 items-center justify-center"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col flex-1 p-4",children:[l&&e.jsx("div",{className:"ml-auto w-28 h-40 bg-center bg-no-repeat bg-cover rounded-lg border-2 border-white/20",style:{backgroundImage:`url(${s.caller.avatar})`},"aria-label":"Self-view video feed"}),e.jsx("div",{className:"flex-1"})," ",e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-black/40 backdrop-blur-sm px-3 py-1.5",children:[e.jsx("span",{className:"material-symbols-outlined text-primary !text-base",children:"lock"}),e.jsx("p",{className:"text-white text-xs font-medium",children:"End-to-End Encrypted"})]})}),e.jsxs("div",{className:"flex justify-around items-center",children:[e.jsx("button",{onClick:N,className:`flex size-14 cursor-pointer items-center justify-center overflow-hidden rounded-full ${r?"bg-white/20":"bg-white/40"} text-white backdrop-blur-sm`,children:e.jsx("span",{className:"material-symbols-outlined !text-3xl",children:r?"volume_up":"volume_off"})}),e.jsx("button",{onClick:v,className:`flex size-14 cursor-pointer items-center justify-center overflow-hidden rounded-full ${i?"bg-white/40":"bg-white/20"} text-white backdrop-blur-sm`,children:e.jsx("span",{className:"material-symbols-outlined !text-3xl",children:i?"mic_off":"mic"})}),e.jsx("button",{onClick:w,className:`flex size-14 cursor-pointer items-center justify-center overflow-hidden rounded-full ${l?"bg-white/20":"bg-white/40"} text-white backdrop-blur-sm`,children:e.jsx("span",{className:"material-symbols-outlined !text-3xl",children:l?"videocam":"videocam_off"})}),e.jsx("button",{onClick:m,className:"flex size-16 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-[#dc3545] text-white",children:e.jsx("span",{className:"material-symbols-outlined !text-4xl",children:"call_end"})})]})]})]})};export{z as default};
